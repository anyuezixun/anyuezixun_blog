{{ if .Site.Params.sidebar.avatar.enabled }}
    <figure class="site-avatar">
        {{ if .Site.Params.sidebar.avatar.local }}
            {{ $avatar := resources.Get .Site.Params.sidebar.avatar.src }}
            {{ if $avatar }}
                {{ if eq $avatar.MediaType.SubType "svg" }}
                    <img src="{{ $avatar.RelPermalink }}" width="300" height="300" class="site-logo" loading="lazy" alt="Avatar">
                {{ else }}
                    {{ $avatarResized := $avatar.Resize "300x" }}
                    <img src="{{ $avatarResized.RelPermalink }}" width="{{ $avatarResized.Width }}" height="{{ $avatarResized.Height }}" class="site-logo" loading="lazy" alt="Avatar">
                {{ end }}
            {{ else }}
                {{ errorf "Failed to get avatar from %q" .Site.Params.sidebar.avatar.src }}
            {{ end }}
        {{ else }}
            <img src="{{ .Site.Params.sidebar.avatar.src }}" width="300" height="300" class="site-logo" loading="lazy" alt="Avatar">
        {{ end }}
    </figure>
{{ end }} 